Name: qt-mobility
Summary: APIs for mobile device functionality
Version: 1.2.0
Release: 1
Group: System/Libraries
License: LGPLv2.1 with exception or GPLv3
URL: http://qt.gitorious.org/qt-mobility
Sources:
    - http://get.qt.nokia.com/qt/add-ons/%{name}-opensource-src-%{version}.tar.gz
SourcePrefix: "%{name}-opensource-src-%{version}"
#ExtraSources:
#    - meegocamera.desktop;%{_desktopdir}
Patches:
    - revert_QTMOBILITY-614_bmc13087.patch
    - no_rpath.patch
    - enable_camerabin_with_meego_target.patch
    - GL_CLAMP_TO_EDGE_for_video_texture.patch
    - opengl-es2-shader-enable.patch
    - ix86:revert-m_pools-in-qvideosurfacegstsink.patch
    - ix86:libva-codec-enable.patch
    - ix86:camera_preview_workaround.patch
    - ix86:Moorestown_Camera_Support.patch
    - arm:enable_xvoverlay_for_qml_camera.patch
    - camera_api_added_functionality.patch
    - qml_camera_example_added_functionality.patch
    - versit_reverse_geolocation_lat_lon_order.patch
    - versit_add_meego_vcard_entries.patch
    - contacts_fix_schema_definitions.patch
    - versit_urls_changed_to_uris.patch
    - no-accel-crash-fix.patch
    - contacts_use_eds_engine.patch
    - sync-declarative-to-qt48-qobject.patch
    - sync-macros-to-qt48.patch
    - fix_compile_with_mkcal.patch
    - fix_qml_contact_model.patch

Description: |
    Qt Mobility delivers a set of new APIs for mobile device functionality. These
    APIs allow the developer to use these features with ease from one framework and
    apply them to phones, netbooks and non-mobile personal computers.
PkgConfigBR:
    - QtGui
    - QtOpenGL
#    - QtSparql
#    - QtSparqlTrackerExtensions
    - alsa
    - blkid
    - bluez
    - connman
    - contextsubscriber-1.0
    - gconf-2.0
#    - geoclue
    - gstreamer-plugins-bad-free-0.10
    - gstreamer-plugins-base-0.10
#    - gypsy
#    - libiphb
#    - libmkcal
    - libpulse
#    - qttracker
    - qmfclient
    - sensord
    - udev
    - x11
    - xext
    - xrandr
    - xrender
    - xv
#    - ix86:gst-vabuffer
#    - ix86:libva-x11
PkgBR:
    - qt-devel-tools
Configure: none
Builder: none
RunFdupes:
    - "%{_includedir}"
    - "%{_libdir}/qtmobility"
    - "%{_datadir}/qtmobility/translations"
NoFiles: true
SubPackages:
    - Name: devel
      Summary: APIs for mobile device functionality - development files
      Group: Development/Libraries
      Requires:
            - libqtconnectivity1 = %{version}-%{release}
            - libqtcontacts1 = %{version}-%{release}
            - libqtfeedback1 = %{version}-%{release}
            - libqtgallery1 = %{version}-%{release}
            - libqtlocation1 = %{version}-%{release}
            - libqtmessaging1 = %{version}-%{release}
            - libqtmultimediakit1 = %{version}-%{release}
#             - libqtorganizer1 = %{version}-%{release}
            - libqtpublishsubscribe1 = %{version}-%{release}
            - libqtsensors1 = %{version}-%{release}
            - libqtserviceframework1 = %{version}-%{release}
            - libqtsysteminfo1 = %{version}-%{release}
            - libqtversit1 = %{version}-%{release}
#             - libqtversitorganizer1 = %{version}-%{release}
            - libdeclarative-connectivity = %{version}-%{release}
            - libdeclarative-contacts = %{version}-%{release}
            - libdeclarative-feedback = %{version}-%{release}
            - libdeclarative-gallery = %{version}-%{release}
            - libdeclarative-location = %{version}-%{release}
            - libdeclarative-messaging = %{version}-%{release}
            - libdeclarative-multimedia = %{version}-%{release}
#             - libdeclarative-organizer = %{version}-%{release}
            - libdeclarative-publishsubscribe = %{version}-%{release}
            - libdeclarative-sensors = %{version}-%{release}
            - libdeclarative-serviceframework = %{version}-%{release}
            - libdeclarative-systeminfo = %{version}-%{release}
            - servicefw = %{version}-%{release}
            - examples = %{version}-%{release}
            - "%{name}-l10n = %{version}-%{release}"

      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the development files needed to build Qt applications
          using Qt Mobility libraries.
      Requires:
          - servicefw

    - Name: libqtconnectivity1
      AsWholeName: yes
      Summary: Qt Mobility Connectivity module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Connectivity API. It provides APIs for working with
          local devices.

    - Name: libqtcontacts1
      AsWholeName: yes
      Summary: Qt Mobility Contacts module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains an API enabling clients to request contact data from
          local or remote backends.

    - Name: libqtfeedback1
      AsWholeName: yes
      Summary: Qt Mobility Feedback module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Feedback API. It enables a client to control
          the vibration of the device or the piezo feedback from the screen.

    - Name: libqtgallery1
      AsWholeName: yes
      Summary: Qt Mobility Document Gallery module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains an API for accessing collections of documents and media
          and their meta-data.

    - Name: libqtlocation1
      AsWholeName: yes
      Summary: Qt Mobility Location module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Location API. It provides a library for distributing
          and receiving location data using arbitrary data sources.

    - Name: libqtmessaging1
      AsWholeName: yes
      Summary: Qt Mobility Messaging module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Messaging API. It is a common interface for handling
          SMS, MMS, MIME Email and TNEF Email messages.

    - Name: libqtmultimediakit1
      AsWholeName: yes
      Summary: Qt Mobility MultimediaKit module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains a set of APIs to play and record media, and manage a
          collection of media content.

#     - Name: libqtorganizer1
#       AsWholeName: yes
#       Summary: Qt Mobility Organizer module
#       Group: System/Libraries
#       Requires:
#             - "%{name}-l10n = %{version}-%{release}"
#       Description: |
#           Qt Mobility delivers a set of new APIs for mobile device functionality.
# 
#           This package contains an API for management of calendar, scheduling and
#           personal data from local or remote backends. It includes the ability to create,
#           edit, list, delete and lookup organizer information whether it is stored
#           locally or remotely.

    - Name: libqtpublishsubscribe1
      AsWholeName: yes
      Summary: Qt Mobility Publish and Subscribe module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Publish and Subscribe API (containing Value Space).
          It enables applications to read item values, navigate through and subscribe to
          change notifications.

    - Name: libqtsensors1
      AsWholeName: yes
      Summary: Qt Mobility Sensors module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Sensors API. It provides access to sensors.
      Requires:
          - libqtsql4-sqlite
          - sensorfw

    - Name: libqtserviceframework1
      AsWholeName: yes
      Summary: Qt Mobility Service Framework module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains a set of APIs to that allows clients to discover and
          instantiate arbitrary services.

    - Name: libqtsysteminfo1
      AsWholeName: yes
      Summary: Qt Mobility System Information module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains a set of APIs to discover system related information and
          capabilities.

    - Name: libqtversit1
      AsWholeName: yes
      Summary: Qt Mobility Versit (vCard) module
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains an API to manage Versit documents, such as vCards.

#     - Name: libqtversitorganizer1
#       AsWholeName: yes
#       Summary: Qt Mobility Versit (Organizer) module
#       Group: System/Libraries
#       Description: |
#           Qt Mobility delivers a set of new APIs for mobile device functionality.
# 
#           This package contains an API to manage Versit documents, such as iCalendar
#           documents. It interfaces the Organizer API and uses the same framework as for
#           vCards.

    - Name: libdeclarative-connectivity
      AsWholeName: yes
      Summary: Qt Mobility Connectivity QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Connectivity QML plugin for QtDeclarative.

    - Name: libdeclarative-contacts
      AsWholeName: yes
      Summary: Qt Mobility Contacts QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Contacts QML plugin for QtDeclarative.

    - Name: libdeclarative-feedback
      AsWholeName: yes
      Summary: Qt Mobility Feedback QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Feedback QML plugin for QtDeclarative.

    - Name: libdeclarative-gallery
      AsWholeName: yes
      Summary: Qt Mobility Document Gallery QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Document Gallery QML plugin for QtDeclarative.

    - Name: libdeclarative-location
      AsWholeName: yes
      Summary: Qt Mobility Location QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Location QML plugin for QtDeclarative.

    - Name: libdeclarative-messaging
      AsWholeName: yes
      Summary: Qt Mobility Messaging QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Messaging QML plugin for QtDeclarative.

    - Name: libdeclarative-multimedia
      AsWholeName: yes
      Summary: Qt Mobility Multimedia QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Multimedia QML plugin for QtDeclarative.

#     - Name: libdeclarative-organizer
#       AsWholeName: yes
#       Summary: Qt Mobility Organizer QML plugin
#       Group: System/Libraries
#       Requires:
#             - "%{name}-l10n = %{version}-%{release}"
#       Description: |
#           Qt Mobility delivers a set of new APIs for mobile device functionality.
# 
#           This package contains the Organizer QML plugin for QtDeclarative.

    - Name: libdeclarative-publishsubscribe
      AsWholeName: yes
      Summary: Qt Mobility Publish and Subscribe QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Publish and Subscribe QML plugin for QtDeclarative.

    - Name: libdeclarative-sensors
      AsWholeName: yes
      Summary: Qt Mobility Sensors Framework QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Sensors QML plugin for QtDeclarative.

    - Name: libdeclarative-serviceframework
      AsWholeName: yes
      Summary: Qt Mobility Service Framework QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Service Framework QML plugin for QtDeclarative.

    - Name: libdeclarative-systeminfo
      AsWholeName: yes
      Summary: Qt Mobility System Information QML plugin
      Group: System/Libraries
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the System Information QML plugin for QtDeclarative.

    - Name: servicefw
      AsWholeName: yes
      Summary: Qt Mobility Service Framework tool
      Group: Development/Tools
      Requires:
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains the Service Framework tool (servicefw). It allows
          to register services and make them available over the Service Framework.

    - Name: examples
      Summary: Qt Mobility examples
      Group: System/X11
      Requires:
            - libqtconnectivity1 = %{version}-%{release}
            - libqtcontacts1 = %{version}-%{release}
            - libqtfeedback1 = %{version}-%{release}
            - libqtgallery1 = %{version}-%{release}
            - libqtlocation1 = %{version}-%{release}
            - libqtmessaging1 = %{version}-%{release}
            - libqtmultimediakit1 = %{version}-%{release}
#             - libqtorganizer1 = %{version}-%{release}
            - libqtpublishsubscribe1 = %{version}-%{release}
            - libqtsensors1 = %{version}-%{release}
            - libqtserviceframework1 = %{version}-%{release}
            - libqtsysteminfo1 = %{version}-%{release}
            - libqtversit1 = %{version}-%{release}
#             - libqtversitorganizer1 = %{version}-%{release}
            - libdeclarative-connectivity = %{version}-%{release}
            - libdeclarative-contacts = %{version}-%{release}
            - libdeclarative-feedback = %{version}-%{release}
            - libdeclarative-gallery = %{version}-%{release}
            - libdeclarative-location = %{version}-%{release}
            - libdeclarative-messaging = %{version}-%{release}
            - libdeclarative-multimedia = %{version}-%{release}
#             - libdeclarative-organizer = %{version}-%{release}
            - libdeclarative-publishsubscribe = %{version}-%{release}
            - libdeclarative-sensors = %{version}-%{release}
            - libdeclarative-serviceframework = %{version}-%{release}
            - libdeclarative-systeminfo = %{version}-%{release}
            - "%{name}-l10n = %{version}-%{release}"
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains Qt Mobility examples.

    - Name: l10n
      Summary: APIs for mobile device functionality - localization files
      Group: System/I18n
      Description: |
          Qt Mobility delivers a set of new APIs for mobile device functionality.

          This package contains Qt Mobility translations.

#    - Name: meegocamera
#      AsWholeName: yes
#      Summary: MeeGo Handset Camera UI
#      Group: System/GUI/Other
#      Description: |
#          This package contains the camera application for MeeGo handsets.
#      Requires:
#        - gst-plugins-camera
#        - gstreamer >= 0.10.32
