From 0a0df63c23ea8225f92dbbcf26eb82e6e4eeefed Mon Sep 17 00:00:00 2001
From: Christophe Dumez <christophe.dumez@intel.com>
Date: Fri, 3 Jun 2011 09:11:28 +0300
Subject: [PATCH] QtContacts: Add missing entries to schema definition

QContactOrganization::FieldAssistantName and
QContactOrganization::FieldRole are missing from the schema
definitions although those fields exist since QtMobility 1.0.

One side effect of this is that
QContactManager::compatibleContact() will drop these fields.

Upstream bug: QTMOBILITY-1592.
---
 src/contacts/qcontactmanagerengine.cpp |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/src/contacts/qcontactmanagerengine.cpp b/src/contacts/qcontactmanagerengine.cpp
index a52048b..b3a34d6 100644
--- a/src/contacts/qcontactmanagerengine.cpp
+++ b/src/contacts/qcontactmanagerengine.cpp
@@ -893,6 +893,8 @@ QMap<QString, QMap<QString, QContactDetailDefinition> > QContactManagerEngine::s
     fields.insert(QContactOrganization::FieldName, f);
     fields.insert(QContactOrganization::FieldLocation, f);
     fields.insert(QContactOrganization::FieldTitle, f);
+    fields.insert(QContactOrganization::FieldAssistantName, f);
+    fields.insert(QContactOrganization::FieldRole, f);
     f.setDataType(QVariant::Url);
     fields.insert(QContactOrganization::FieldLogoUrl, f);
     f.setDataType(QVariant::StringList);
-- 
1.7.4.4

